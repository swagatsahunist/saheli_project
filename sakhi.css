/* Sakhi Micro-Coach â€” isolated styles to avoid conflicts */
:root { --sakhi-bg:#ffffff; --sakhi-shadow:0 18px 50px rgba(0,0,0,.12); --sakhi-accent:#e15b84; --sakhi-muted:#6b6b6b; }

#sakhi { position:fixed; right:18px; bottom:28px; width:52px; height:52px; border-radius:50%; border:0;
  background:linear-gradient(90deg,#ff9a56,#ff6b6b); color:#fff; font-size:22px;
  box-shadow:0 12px 36px rgba(255,107,107,0.18); cursor:pointer; z-index:999999; display:inline-flex; align-items:center; justify-content:center; }
#sakhi:focus { outline:2px solid #fff; outline-offset:2px; }

.sakhi-panel {
  position: fixed; right: 18px; bottom: 95px; width: 340px; max-height: 70vh; overflow:auto;
  background: var(--sakhi-bg); border-radius: 16px; box-shadow: var(--sakhi-shadow);
  z-index: 1000000; display:none; border:1px solid #f1e6ea;
}
.sakhi-header { display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid #f1e6ea; }
.sakhi-title { font-weight:800; color:var(--sakhi-accent); display:flex; align-items:center; gap:8px }
.sakhi-close { background:transparent; border:0; font-size:18px; cursor:pointer }
.sakhi-body { padding:14px; display:flex; flex-direction:column; gap:10px }
.sakhi-tip { background:#fff6fa; border:1px solid #fde1ea; border-radius:12px; padding:10px 12px; font-size:.95rem; }
.sakhi-actions { display:flex; gap:8px; flex-wrap:wrap }
.sakhi-actions .sakhi-btn { padding:8px 10px; border-radius:10px; border:1px solid #f0d4de; background:#fff; cursor:pointer; font-weight:700 }
.sakhi-actions .sakhi-btn.primary { background:linear-gradient(90deg,#e15b84,#ff7ba8); color:#fff; border-color:transparent }
.sakhi-mini { font-size:.9rem; color:var(--sakhi-muted); }
.sakhi-badge { font-size:.75rem; background:#ffe7ef; color:#c54673; border-radius:999px; padding:4px 8px; font-weight:700 }
.sakhi-streak { background:#fff; border:1px dashed #f1c3d2; padding:10px; border-radius:12px; display:flex; align-items:center; gap:10px; font-size:.95rem; }
.sakhi-streak i { font-style:normal; }
.sakhi-panel { display:none; }
.sakhi-panel.open { display:block; }
/* Harden stacking and clickability */
#sakhi { position: fixed; z-index: 2147483647; pointer-events: auto; }
.sakhi-panel { z-index: 2147483646; }
/* --- Sakhi Assistant chat UI --- */
.sakhi-chat { margin-top: 12px; background:#fff; border:1px solid rgba(0,0,0,.06); border-radius:12px; box-shadow:0 8px 20px rgba(0,0,0,.06); display:flex; flex-direction:column; max-height:44vh; }
.sakhi-chat-header{ display:flex; align-items:center; justify-content:space-between; padding:8px 10px; border-bottom:1px solid rgba(0,0,0,.06); }
.sakhi-tabs{ display:flex; gap:6px; }
.sakhi-tab{ border:0; background:#f7f7f7; padding:6px 10px; border-radius:8px; font-weight:700; cursor:pointer }
.sakhi-tab.active{ background:linear-gradient(90deg,#e15b84,#ff7ba8); color:#fff }
.sakhi-voice button{ border:0; background:#fff; padding:6px 8px; border-radius:8px; cursor:pointer; margin-left:6px; box-shadow:0 2px 8px rgba(0,0,0,.06) }

.sakhi-chat-body{ padding:10px; overflow:auto; display:flex; flex-direction:column; gap:8px; }
.sakhi-bubble{ padding:10px 12px; border-radius:12px; max-width:84%; line-height:1.4; box-shadow:0 4px 14px rgba(0,0,0,.05) }
.sakhi-bubble.user{ align-self:flex-end; background:#ffe6f0 }
.sakhi-bubble.assistant{ align-self:flex-start; background:#f9f9ff }
.sakhi-typing{ align-self:flex-start; display:inline-flex; gap:4px; padding:10px 12px; border-radius:12px; background:#f1f1f9 }
.sakhi-typing span{ width:6px; height:6px; border-radius:50%; background:#999; display:inline-block; animation:sakhi-bounce 1s infinite }
.sakhi-typing span:nth-child(2){ animation-delay:.15s }
.sakhi-typing span:nth-child(3){ animation-delay:.3s }
@keyframes sakhi-bounce{ 0%,80%,100%{ transform:scale(0) } 40%{ transform:scale(1) } }

.sakhi-chat-input{ display:flex; gap:8px; padding:10px; border-top:1px solid rgba(0,0,0,.06); }
#sakhiUserInput{ flex:1; resize:none; border:1px solid rgba(0,0,0,.08); border-radius:10px; padding:10px; font-family:inherit; }
.sakhi-send{ border:0; background:linear-gradient(90deg,#e15b84,#ff7ba8); color:#fff; padding:10px 14px; border-radius:10px; font-weight:700; cursor:pointer; box-shadow:0 6px 16px rgba(225,91,132,.2) }

.sakhi-suggests{ display:flex; gap:8px; flex-wrap:wrap; margin-top:4px }
.sakhi-suggest{ background:#fff; border:1px solid rgba(0,0,0,.06); border-radius:20px; padding:6px 10px; cursor:pointer }
/* --- Sakhi Assistant chat UI --- */
.sakhi-chat { margin-top: 12px; background:#fff; border:1px solid rgba(0,0,0,.06); border-radius:12px; box-shadow:0 8px 20px rgba(0,0,0,.06); display:flex; flex-direction:column; max-height:44vh; }
.sakhi-chat-header{ display:flex; align-items:center; justify-content:space-between; padding:8px 10px; border-bottom:1px solid rgba(0,0,0,.06); }
.sakhi-tabs{ display:flex; gap:6px; }
.sakhi-tab{ border:0; background:#f7f7f7; padding:6px 10px; border-radius:8px; font-weight:700; cursor:pointer }
.sakhi-tab.active{ background:linear-gradient(90deg,#e15b84,#ff7ba8); color:#fff }
.sakhi-voice button{ border:0; background:#fff; padding:6px 8px; border-radius:8px; cursor:pointer; margin-left:6px; box-shadow:0 2px 8px rgba(0,0,0,.06) }
.sakhi-chat-body{ padding:10px; overflow:auto; display:flex; flex-direction:column; gap:8px; }
.sakhi-bubble{ padding:10px 12px; border-radius:12px; max-width:84%; line-height:1.4; box-shadow:0 4px 14px rgba(0,0,0,.05) }
.sakhi-bubble.user{ align-self:flex-end; background:#ffe6f0 }
.sakhi-bubble.assistant{ align-self:flex-start; background:#f9f9ff }
.sakhi-typing{ align-self:flex-start; display:inline-flex; gap:4px; padding:10px 12px; border-radius:12px; background:#f1f1f9 }
.sakhi-typing span{ width:6px; height:6px; border-radius:50%; background:#999; display:inline-block; animation:sakhi-bounce 1s infinite }
.sakhi-typing span:nth-child(2){ animation-delay:.15s }
.sakhi-typing span:nth-child(3){ animation-delay:.3s }
@keyframes sakhi-bounce{ 0%,80%,100%{ transform:scale(0) } 40%{ transform:scale(1) } }
.sakhi-chat-input{ display:flex; gap:8px; padding:10px; border-top:1px solid rgba(0,0,0,.06); }
#sakhiUserInput{ flex:1; resize:none; border:1px solid rgba(0,0,0,.08); border-radius:10px; padding:10px; font-family:inherit; }
.sakhi-send{ border:0; background:linear-gradient(90deg,#e15b84,#ff7ba8); color:#fff; padding:10px 14px; border-radius:10px; font-weight:700; cursor:pointer; box-shadow:0 6px 16px rgba(225,91,132,.2) }
.sakhi-suggests{ display:flex; gap:8px; flex-wrap:wrap; margin-top:4px }
.sakhi-suggest{ background:#fff; border:1px solid rgba(0,0,0,.06); border-radius:20px; padding:6px 10px; cursor:pointer }
.sakhi-list{ margin:6px 0 6px 16px; padding:0 }
.sakhi-list li{ margin:4px 0; }
.sakhi-bubble p{ margin:6px 0; }
.sakhi-panel{
  position: fixed;
  right: 18px;
  bottom: 94px;
  width: 320px;
  max-height: 65vh;
  display: none;            /* hidden by default */
  flex-direction: column;   /* JS sets display:flex on open */
  background: #fff;
  border-radius: 14px;
  box-shadow: 0 18px 40px rgba(0,0,0,.12);
  overflow: hidden;
  z-index: 999;
}
.sakhi-panel.open{ display: flex; } /* if your old css already had this, great */
/* === Sakhi Fullscreen Mode === */
.sakhi-overlay{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.35);
  backdrop-filter: blur(2px);
  display: none;
  z-index: 99998;
}
.sakhi-overlay.open{ display:block; }

.sakhi-panel{
  position: fixed;
  right: 18px;
  bottom: 94px;
  width: 320px;
  max-height: 65vh;
  display: none;
  flex-direction: column;
  background: #fff;
  border-radius: 14px;
  box-shadow: 0 18px 40px rgba(0,0,0,.12);
  overflow: hidden;
  z-index: 99999;
}
.sakhi-panel.open{ display:flex; }

/* Fullscreen variant */
.sakhi-panel.fullscreen{
  inset: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100vw !important;
  max-height: none !important;
  height: 100vh !important;
  border-radius: 0 !important;
  box-shadow: none !important;
}

/* Optional: lock background scroll when open */
body.sakhi-lock{ overflow: hidden; }

/* A tiny header control row inside panel (if you don't already have one) */
.sakhi-header{
  display:flex; align-items:center; justify-content:space-between;
  padding: 10px 12px; border-bottom: 1px solid #f0f0f0;
}
.sakhi-actions{ display:flex; gap:8px; }
.sakhi-iconbtn{
  border:0; background:#fff; cursor:pointer; border-radius:10px; padding:6px 10px;
  box-shadow: 0 2px 10px rgba(0,0,0,.06);
}
.sakhi-iconbtn:hover{ transform: translateY(-1px); }
