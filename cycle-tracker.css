/* ============ Saheli Cycle Tracker 2.0 — Glass UI ============ */

:root{
  --bg: radial-gradient(1200px 800px at 15% 10%, #ffe6ef 0%, rgba(255,255,255,0) 40%),
        radial-gradient(1000px 700px at 85% 0%, #e5f3ff 0%, rgba(255,255,255,0) 36%),
        #f6efe6;
  --glass: rgba(255,255,255,0.62);
  --stroke: rgba(255,255,255,0.45);
  --shadow: 0 20px 50px rgba(0,0,0,0.08);
  --pink: #e15b84;
  --pink2:#ff7ba8;
  --muted:#6b6b6b;
  --good:#00b894;
  --warn:#f39c12;
  --bad:#e74c3c;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: "Poppins", system-ui, sans-serif;
  background: var(--bg);
  color:#222;
  -webkit-font-smoothing:antialiased;
}

.glass-nav{
  position: sticky; top:0; z-index:100;
  background: var(--glass);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--stroke);
}
.nav-inner{
  max-width: 1150px; margin:0 auto;
  padding: 14px 18px; display:flex; align-items:center; justify-content:space-between;
}
.brand{ text-decoration:none; font-weight:800; color:var(--pink)}
nav a{ text-decoration:none; color:#333; font-weight:600; margin-left:14px }
nav a.active, nav a:hover{ color:var(--pink) }

.wrap{ max-width:1150px; margin:0 auto; padding:24px 18px }

/* Dashboard */
.dashboard{ display:grid; grid-template-columns: 1.6fr 1fr; gap:16px; margin-bottom:18px }
.glass{ background:var(--glass); backdrop-filter: blur(12px); border:1px solid var(--stroke); border-radius:16px; box-shadow: var(--shadow) }

.phase-card{ display:flex; align-items:center; gap:18px; padding:16px }
.phase-ring{
  width:160px; height:160px; border-radius:50%;
  background: conic-gradient(#ddd 0deg, #ddd 360deg);
  display:grid; place-items:center; position:relative;
}
.phase-ring::after{
  content:""; position:absolute; inset:10px; background:rgba(255,255,255,0.7); border-radius:50%;
  border:1px solid var(--stroke);
}
.phase-ring-center{ position:relative; z-index:2; text-align:center; }
.phase-ring-center #phaseDay{ font-size:32px; font-weight:800; line-height:1; color:var(--pink) }
.phase-meta h2{ margin:0 0 6px; color:var(--pink) }
.muted{ color:var(--muted) }
.badges{ display:flex; gap:8px; flex-wrap:wrap; margin-top:8px }
.badge{ padding:6px 10px; border-radius:999px; background:#fff; border:1px solid var(--stroke); font-size:0.9rem }

/* KPIs */
.stats-grid{ display:grid; grid-template-columns: repeat(3,1fr); gap:16px }
.stat{ padding:16px; text-align:center }
.stat-kpi{ font-size:28px; font-weight:800; color:#333 }
.stat .stat-kpi.good{ color: var(--good) }
.stat .stat-kpi.warn{ color: var(--warn) }
.stat .stat-kpi.bad{ color: var(--bad) }
.stat-label{ color:var(--muted) }

/* Settings */
.settings{ padding:14px; margin:18px 0 }
#settingsForm{ display:grid; grid-template-columns: 1fr 1fr auto auto; gap:10px; align-items:end }
#settingsForm label{ display:flex; flex-direction:column; font-weight:600; color:#333 }
#settingsForm input, #settingsForm select, #settingsForm textarea{
  margin-top:6px; padding:10px; border-radius:12px; border:1px solid var(--stroke); background:rgba(255,255,255,0.86)
}
.btn{ padding:10px 14px; border-radius:12px; border:1px solid var(--stroke); background: linear-gradient(90deg, var(--pink), var(--pink2)); color:#fff; font-weight:700; cursor:pointer }
.btn.ghost{ background:#fff; color:var(--pink) }
.settings-note{ margin-top:8px; color:var(--muted) }

/* Tabs */
.tabs{ margin-top:10px }
.tab-bar{ display:flex; gap:8px; padding:8px; align-items:center }
.tab{ border:0; background:transparent; font-weight:700; padding:10px 14px; border-radius:12px; cursor:pointer; color:#555 }
.tab.active{ background:#fff; color:var(--pink); border:1px solid var(--stroke) }
.tab-panel{ display:none; margin-top:10px }
.tab-panel.show{ display:block }

/* Calendar */
.cal-head{ display:flex; gap:10px; align-items:center; justify-content:center; margin-bottom:8px }
.icon-btn{ border:1px solid var(--stroke); background:#fff; border-radius:10px; padding:6px 10px; cursor:pointer; font-weight:800 }
.legend{ display:flex; gap:8px; justify-content:center; flex-wrap:wrap; margin:10px 0 }
.chip{ padding:6px 10px; border-radius:999px; background:#fff; border:1px solid var(--stroke); font-size:0.9rem }
.chip.menstrual{ background:#ffe2eb }
.chip.fertile{ background:#fff3bf }
.chip.ovulation{ background:#ffd6a5 }
.chip.luteal{ background:#e9e1ff }
.chip.follicular{ background:#d7ecff }
.chip.today{ background:#e8fff2 }

.calendar{ padding:10px }
#calendar{
  display:grid; grid-template-columns: repeat(7, 1fr); gap:8px;
}
.cell{
  min-height:82px; background:#fff; border:1px solid var(--stroke); border-radius:12px; padding:8px;
  display:flex; flex-direction:column; justify-content:space-between; cursor:pointer; transition: transform .15s;
}
.cell:hover{ transform: translateY(-3px) }
.cell .num{ font-weight:700 }
.cell .tag{ font-size:0.78rem; color:#555 }
.cell.menstrual{ background:#ffe2eb }
.cell.fertile{ background:#fff3bf }
.cell.ovulation{ background:#ffd6a5 }
.cell.luteal{ background:#e9e1ff }
.cell.follicular{ background:#d7ecff }
.cell.today{ outline:2px solid #00b894 }

.weekday{ font-weight:700; text-align:center; padding:6px 0 }

/* Logs */
.log-form{ padding:14px }
#logForm{ display:grid; grid-template-columns: repeat(4,1fr); gap:10px; align-items:end }
#logForm .full{ grid-column: 1/-1 }
.actions{ display:flex; gap:10px; justify-content:flex-end }
.logs-list{ margin-top:12px; padding:14px }
.log-item{
  display:grid; grid-template-columns: 120px 1fr 120px; gap:8px; align-items:center;
  background:#fff; border:1px solid var(--stroke); border-radius:12px; padding:10px; margin-bottom:8px
}
.log-item .meta{ color:var(--muted) }
.log-item .mood{ font-weight:700 }
.log-empty{ color:var(--muted); text-align:center; padding:16px }

/* Analytics */
.charts-grid{ display:grid; grid-template-columns: 1fr 1fr; gap:16px }
.chart-card{ padding:14px }

/* History */
.history{ padding:14px }
.hist-row{
  display:flex; justify-content:space-between; align-items:center;
  background:#fff; border:1px solid var(--stroke); border-radius:12px; padding:10px; margin-bottom:8px
}
.hist-row small{ color:var(--muted) }

/* Footer */
.footer{ margin:20px 18px; text-align:center; padding:12px; border-radius:16px }

/* Responsive */
@media (max-width:980px){
  .dashboard{ grid-template-columns: 1fr }
  #settingsForm{ grid-template-columns: 1fr 1fr; }
  .charts-grid{ grid-template-columns: 1fr }
  #logForm{ grid-template-columns: 1fr 1fr }
  .log-item{ grid-template-columns: 1fr }
}
/* --- Chart fix: prevent infinite scroll --- */
.chart-card {
  position: relative;
  height: 350px;        /* give charts a fixed height */
  overflow: hidden;
}
.chart-card canvas {
  width: 100% !important;
  height: 100% !important;
}
/* ============================
   ✨ Subtle Animations & Hover
   ============================ */

/* Smooth transitions everywhere */
a, button, .info-card, .graph-card, .day, .input-section, .calendar-section, .info-section {
  transition: transform .35s cubic-bezier(.2,.9,.2,1), box-shadow .35s, background .35s, opacity .35s;
}

/* Glassmorphism polish on main cards */
.input-section,
.info-section,
.calendar-section,
.graph-section {
  background: rgba(255,255,255,0.72);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,0.35);
  box-shadow: 0 18px 50px rgba(227,105,150,0.10);
}

/* Buttons lift + glow */
.input-section button,
footer a.button,
button,
.btn {
  position: relative;
  isolation: isolate;
  will-change: transform;
}
.input-section button:hover,
button:hover,
.btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 14px 30px rgba(211,107,140,0.28);
}

/* Cards hover */
.info-card:hover, .graph-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 16px 40px rgba(0,0,0,0.12);
}

/* Calendar day hover + selected pulse */
.day {
  border: 1px solid rgba(255,255,255,0.35);
  box-shadow: 0 6px 18px rgba(0,0,0,0.06);
  transform-origin: center;
}
.day:hover {
  transform: scale(1.06);
  box-shadow: 0 14px 36px rgba(227,105,150,0.20);
}
.day.selected {
  animation: sakhiPulse 900ms ease;
  outline: 2px solid rgba(227,105,150,0.55);
}
@keyframes sakhiPulse {
  0%   { box-shadow: 0 0 0 0 rgba(227,105,150,0.45); }
  100% { box-shadow: 0 0 0 14px rgba(227,105,150,0.00); }
}

/* Chart cards: prevent infinite growth + animate in */
.chart-card,
.graph-card canvas {
  /* if you used .chart-card in analytics, keep this height */
  height: 350px;
}
.graph-card {
  position: relative;
  overflow: hidden;
}

/* Shimmer title (subtle) */
.header h1 {
  position: relative;
  overflow: hidden;
}
.header h1::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,.35) 12%, transparent 24%);
  transform: translateX(-120%);
  animation: shimmer 3.7s ease-in-out infinite;
}
@keyframes shimmer {
  0%   { transform: translateX(-120%); }
  60%  { transform: translateX(120%); }
  100% { transform: translateX(120%); }
}

/* Reveal-on-scroll utility */
.reveal {
  opacity: 0;
  transform: translateY(18px) scale(.98);
  filter: saturate(.9);
}
.reveal.in-view {
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: saturate(1);
  transition: transform .6s cubic-bezier(.2,.9,.2,1), opacity .6s, filter .6s;
}

/* Fancy tabs (if you show tabs) */
.tabs button {
  position: relative;
}
.tabs button.active::after {
  content: "";
  position: absolute;
  left: 10%;
  right: 10%;
  bottom: -6px;
  height: 3px;
  border-radius: 6px;
  background: linear-gradient(90deg, #e48ca3, #ffd1e0);
  animation: underlineIn .35s ease;
}
@keyframes underlineIn {
  from { transform: scaleX(0); opacity: .6; }
  to   { transform: scaleX(1); opacity: 1; }
}

/* Optional glow utility you can add to any element */
.hover-glow:hover {
  box-shadow: 0 0 0 6px rgba(228,140,163,.12), 0 18px 50px rgba(228,140,163,.18);
}

/* Make canvases responsive without causing scroll growth */
.graph-card canvas {
  width: 100% !important;
  height: 100% !important;
}
